import{Aa as N,B as u,Ca as U,D as w,H as g,J as p,K as E,M as i,N as a,O as v,Qa as V,S as I,T as O,U as m,aa as l,ba as M,ca as x,da as S,gb as R,hb as q,ia as D,la as _,lb as L,ma as f,mb as G,nb as J,o as b,ob as K,p as y,qa as F,ra as T,sa as B,ua as $,va as j,wa as z,x as C,ya as H,z as s,za as A}from"./chunk-ABQJCPFR.js";import"./chunk-Z4XJIVV2.js";import"./chunk-HQJQZMN5.js";import"./chunk-WFJ4OJZL.js";import"./chunk-MOKYPBPH.js";import"./chunk-YBYN2MPV.js";import"./chunk-PS2NURIG.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-EUZCHRCO.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{f as P}from"./chunk-RW4GY4BD.js";var Q=n=>({"background-color":n});function W(n,c){if(n&1&&(i(0,"span",18),l(1),_(2,"uppercase"),a()),n&2){let o=c.$implicit,t=m(2);p("ngStyle",D(4,Q,t.getTypeColor(o.type.name))),s(),x(" ",f(2,2,o.type.name)," ")}}function X(n,c){if(n&1&&(i(0,"span",19),l(1),_(2,"titlecase"),a()),n&2){let o=c.$implicit;s(),x(" ",f(2,1,o.ability.name)," ")}}function Y(n,c){if(n&1&&(i(0,"div",20)(1,"div",21)(2,"span"),l(3),_(4,"titlecase"),a(),i(5,"strong"),l(6),a()(),i(7,"div",22),v(8,"div",23),a()()),n&2){let o=c.$implicit;s(3),M(f(4,4,o.stat.name)),s(3),M(o.base_stat),s(2),E("width",o.base_stat/2,"%")}}function Z(n,c){if(n&1){let o=I();i(0,"img",26),O("click",function(){let e=b(o).$implicit,r=m(3);return y(r.goToDetail(e.id))}),a()}if(n&2){let o=c.$implicit;p("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/"+o.id+".png",C)}}function tt(n,c){if(n&1&&(i(0,"div",24),g(1,Z,1,1,"img",25),a()),n&2){let o=m(2);s(),p("ngForOf",o.evolutionDetails)}}function et(n,c){if(n&1&&(i(0,"div",5)(1,"div",6),v(2,"img",7),i(3,"h2",8),l(4),_(5,"titlecase"),a(),i(6,"div",9),g(7,W,3,6,"span",10),a()(),i(8,"div",11)(9,"h3",12),l(10,"Habilidades"),a(),i(11,"div",13),g(12,X,3,3,"span",14),a(),i(13,"h3",12),l(14,"Base Stats"),a(),i(15,"div",15),g(16,Y,9,6,"div",16),a(),i(17,"h3",12),l(18,"Evolutions"),a(),g(19,tt,2,1,"div",17),a()()),n&2){let o=m();s(2),p("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/"+o.pokemon.id+".png",C),s(2),S("#",o.pokemon.id," - ",f(5,7,o.pokemon.name),""),s(3),p("ngForOf",o.pokemon.types),s(5),p("ngForOf",o.pokemon.abilities),s(4),p("ngForOf",o.pokemon.stats),s(3),p("ngIf",o.evolutionDetails)}}var ht=(()=>{let c=class c{constructor(t,e,r){this.route=t,this.http=e,this.router=r,this.pokemonId=0,this.evolutions=[],this.evolutionDetails=[],this.selectedEvolution=null}ngOnInit(){this.pokemonId=Number(this.route.snapshot.paramMap.get("id")),this.loadPokemon(this.pokemonId)}goToDetail(t){console.log(`Navegando para o Pok\xE9mon com ID: ${t}`),this.router.navigate(["/pokemon",t])}goHome(){this.router.navigate(["/home"])}loadPokemon(t){this.http.get(`https://pokeapi.co/api/v2/pokemon/${t}`).subscribe(e=>{this.pokemon=e,this.selectedEvolution=e,this.loadEvolutionChain(t)})}getAnimatedSprite(){var t,e,r,d,h,k;return(k=(h=(d=(r=(e=(t=this.selectedEvolution)==null?void 0:t.sprites)==null?void 0:e.versions)==null?void 0:r["generation-v"])==null?void 0:d["black-white"])==null?void 0:h.animated)==null?void 0:k.front_default}getArtworkSprite(t){var e,r,d;return(d=(r=(e=t==null?void 0:t.sprites)==null?void 0:e.other)==null?void 0:r["official-artwork"])==null?void 0:d.front_default}getTypeColor(t){return{normal:"#dcdddd",fire:"#ff6900",water:"#15b9fe",grass:"#b4f000",electric:"#ffe100",ice:"#15f4ff",fighting:"#dc6900",poison:"#d28dd3",ground:"#fbc85b",flying:"#78dcff",psychic:"#f08cdc",bug:"#46c846",rock:"#b48c64",ghost:"#a08cff",dragon:"#5078dc",dark:"#787878",steel:"#aac8f0",fairy:"#ffafdc"}[t]||"#ccc"}loadEvolutionChain(t){return P(this,null,function*(){var e;try{let d=(e=(yield this.http.get(`https://pokeapi.co/api/v2/pokemon-species/${t}`).toPromise()).evolution_chain)==null?void 0:e.url;if(d){let h=yield this.http.get(d).toPromise();this.evolutions=this.extractEvolutions(h.chain),this.fetchEvolutionDetails()}}catch(r){console.error("Erro ao buscar cadeia de evolu\xE7\xE3o",r)}})}extractEvolutions(t,e=[]){return t?(e.push(t.species.name),t.evolves_to.length>0?this.extractEvolutions(t.evolves_to[0],e):e):e}fetchEvolutionDetails(){return P(this,null,function*(){try{console.log("Buscando detalhes das evolu\xE7\xF5es:",this.evolutions);let t=this.evolutions.map(r=>this.http.get(`https://pokeapi.co/api/v2/pokemon/${r}`).toPromise()),e=yield Promise.all(t);this.evolutionDetails=e,console.log("Detalhes das evolu\xE7\xF5es obtidos:",this.evolutionDetails)}catch(t){console.error("Erro ao buscar detalhes das evolu\xE7\xF5es",t)}})}setSelectedEvolution(t){this.selectedEvolution=t}};c.\u0275fac=function(e){return new(e||c)(u(N),u(H),u(U))},c.\u0275cmp=w({type:c,selectors:[["app-pokemon-detail"]],decls:9,vars:2,consts:[[1,"barra-navegacao"],["color","danger"],[3,"click"],[1,"pagina-detalhe",3,"fullscreen"],["class","pokemon-card",4,"ngIf"],[1,"pokemon-card"],[1,"top-section"],[1,"sprite-pokemon",3,"src"],[1,"nome-pokemon"],[1,"tipos"],["class","tipo",3,"ngStyle",4,"ngFor","ngForOf"],[1,"info-section"],[1,"section-title"],[1,"habilidades"],["class","habilidade",4,"ngFor","ngForOf"],[1,"stats"],["class","stat",4,"ngFor","ngForOf"],["class","evolutions",4,"ngIf"],[1,"tipo",3,"ngStyle"],[1,"habilidade"],[1,"stat"],[1,"stat-label"],[1,"barra-stat"],[1,"valor"],[1,"evolutions"],["class","sprite-pokemon",3,"src","click",4,"ngFor","ngForOf"],[1,"sprite-pokemon",3,"click","src"]],template:function(e,r){e&1&&(i(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons")(3,"ion-button",2),O("click",function(){return r.goHome()}),l(4," Voltar "),a()(),i(5,"ion-title"),l(6,"Pok\xE9mon Detalhes"),a()()(),i(7,"ion-content",3),g(8,et,20,9,"div",4),a()),e&2&&(s(7),p("fullscreen",!0),s(),p("ngIf",r.pokemon))},dependencies:[L,G,J,K,z,F,T,B,j,$,V,A,q,R],styles:["ion-button[_ngcontent-%COMP%]{--color: white !important;font-weight:700}ion-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;--color: white !important}.pagina-detalhe[_ngcontent-%COMP%]{--background: #f9f5f2;display:flex;justify-content:center;align-items:center}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]{max-width:500px;margin:24px auto;background:#fff;border-radius:20px;padding:20px;box-shadow:0 8px 20px #0000001a;text-align:center}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .top-section[_ngcontent-%COMP%]{margin-bottom:24px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .top-section[_ngcontent-%COMP%]   .sprite-pokemon[_ngcontent-%COMP%]{width:200px;height:auto;margin-bottom:10px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .top-section[_ngcontent-%COMP%]   .nome-pokemon[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:12px 0;color:#333}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .top-section[_ngcontent-%COMP%]   .tipos[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:8px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .top-section[_ngcontent-%COMP%]   .tipos[_ngcontent-%COMP%]   .tipo[_ngcontent-%COMP%]{padding:6px 12px;border-radius:12px;color:#fff;font-size:13px;font-weight:700}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{text-align:left}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-weight:700;margin-bottom:8px;color:#444;border-bottom:1px solid #eee;padding-bottom:4px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .habilidades[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:8px;margin-bottom:24px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .habilidades[_ngcontent-%COMP%]   .habilidade[_ngcontent-%COMP%]{background:#eee;padding:6px 10px;border-radius:10px;font-size:14px;color:#333}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{margin-bottom:16px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;color:#333}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .barra-stat[_ngcontent-%COMP%]{height:10px;background:#e0e0e0;border-radius:5px;overflow:hidden;margin-top:4px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .barra-stat[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{height:100%;background:#4caf50;transition:width .4s ease}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .evolutions[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:16px;margin-top:16px}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .evolutions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:auto;transition:transform .3s ease}.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .evolutions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 600px){.pagina-detalhe[_ngcontent-%COMP%]   .pokemon-card[_ngcontent-%COMP%]{max-width:380px}}"]});let n=c;return n})();export{ht as PokemonDetailPage};
